<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create API Key [RETRO]</title>
    <style>
        /* --- 1. Pengaturan Global & Latar Belakang (Retro) --- */
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            /* Font Monospace klasik untuk nuansa terminal/retro */
            font-family: 'Courier New', Courier, monospace; 
            background-color: #C0C0C0; /* Abu-abu terang (seperti jendela Windows 95) */
            color: #000000; /* Teks hitam */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        /* --- 2. Kotak Utama (Kartu) - Gaya Jendela Klasik --- */
        .api-card {
            /* Warna latar belakang dan efek 3D klasik */
            background-color: #E0E0E0;
            border-style: solid;
            border-width: 2px;
            border-color: #FFFFFF #808080 #808080 #FFFFFF; /* Efek 3D: Light atas/kiri, Dark bawah/kanan */
            padding: 1.5rem;
            width: 90%;
            max-width: 500px;
            text-align: center;
            box-sizing: border-box;
            box-shadow: 5px 5px 0px 0px rgba(0,0,0,0.5); /* Shadow yang tegas */
        }
        
        h1 {
            font-size: 1.5rem;
            margin-top: 0;
            margin-bottom: 0.5rem;
            color: #000000;
            text-shadow: 1px 1px 0px #FFFFFF; /* Sedikit efek bayangan teks */
        }

        .subtitle {
            font-size: 0.8rem;
            color: #555555;
            margin-bottom: 1.5rem;
        }

        /* --- 3. Tombol "Buat API Key" - Gaya Tombol Klasik --- */
        .generate-btn {
            background-color: #C0C0C0;
            color: #000000;
            font-weight: bold;
            font-size: 1rem;
            padding: 0.75rem 1rem;
            width: 100%;
            cursor: pointer;
            
            /* Border 3D Inset Klasik */
            border: none;
            border-style: solid;
            border-width: 2px;
            border-color: #FFFFFF #000000 #000000 #FFFFFF; 
            
            transition: none; /* Hilangkan transisi modern */
            margin-bottom: 1rem;
        }

        .generate-btn:hover {
            background-color: #D0D0D0;
        }
        
        /* Efek klik tombol retro: border terbalik */
        .generate-btn:active {
            border-color: #000000 #FFFFFF #FFFFFF #000000;
            padding-top: 0.85rem; /* Kompensasi untuk pergeseran bayangan */
            padding-bottom: 0.65rem;
        }

        /* --- 4. Kotak Teks API Key & Tombol Salin --- */
        .key-container {
            position: relative;
            width: 100%;
        }

        .api-key-input {
            width: 100%;
            /* Tampilan Input Inset */
            background-color: #FFFFFF; 
            border: 1px solid #000000; /* Garis tepi yang sangat jelas */
            border-style: solid;
            border-width: 2px;
            border-color: #808080 #FFFFFF #FFFFFF #808080; /* Efek Inset 3D */
            
            color: #00008B; /* Warna biru tua/navy untuk teks kunci (nuansa terminal) */
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9rem;
            padding: 1rem;
            padding-right: 70px;
            box-sizing: border-box;
            
            /* Hilangkan border-radius modern */
            border-radius: 0;
        }

        .copy-btn {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            
            /* Gaya Tombol Klasik */
            background-color: #C0C0C0;
            color: #000000;
            border: none;
            border-style: solid;
            border-width: 2px;
            border-color: #FFFFFF #000000 #000000 #FFFFFF; 
            
            border-radius: 0;
            padding: 0.4rem 0.6rem;
            font-size: 0.7rem;
            font-weight: bold;
            cursor: pointer;
            transition: none;
        }
        
        .copy-btn:hover {
            background-color: #D0D0D0;
        }

        .copy-btn:active {
            border-color: #000000 #FFFFFF #FFFFFF #000000;
        }

        /* --- 5. Teks Umpan Balik & Info (Terminal Style) --- */
        .copy-feedback {
            font-size: 0.8rem;
            color: #008000; /* Hijau terminal untuk pesan sukses */
            margin-top: 0.5rem;
            height: 1em;
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .copy-feedback.visible {
            visibility: visible;
            opacity: 1;
        }

        .info-text {
            font-size: 0.8rem;
            color: #555555;
            margin-top: 1.5rem;
            margin-bottom: 0;
        }

        /* --- 6. Footer --- */
        footer {
            margin-top: 2rem;
            padding: 1rem;
            font-size: 0.7rem;
            color: #555555;
            text-align: center;
        }
    </style>
</head>
<body>

    <main class="api-card">
        <h1>[ API KEY GENERATOR ]</h1>
        <p class="subtitle">Buat dan Salin Kunci Anda. (Edisi Klasik)</p>

        <button id="generateBtn" class="generate-btn">BUAT KUNCI</button>

        <div class="key-container">
            <input type="text" id="apiKeyInput" class="api-key-input" value="" readonly>
            <button id="copyBtn" class="copy-btn">SALIN</button>
        </div>

        <p id="copyFeedback" class="copy-feedback">SUCCESS: Kunci telah disalin ke clipboard.</p>

        <p class="info-text">Peringatan: Kunci dihasilkan di sisi klien (Web Crypto). Simpan di lokasi aman. Tidak dapat dikembalikan.</p>
    </main>

    <footer>
        &copy; 1995-2025 Copyright DP
    </footer>

    <script>
        // --- 1. Pilih Elemen ---
        const generateBtn = document.getElementById('generateBtn');
        const copyBtn = document.getElementById('copyBtn');
        const apiKeyInput = document.getElementById('apiKeyInput');
        const copyFeedback = document.getElementById('copyFeedback');

        // --- 2. Fungsi untuk Membuat API Key (menggunakan Web Crypto) ---
        function generateApiKey() {
            // Buat 32 byte angka acak yang aman
            const buffer = new Uint8Array(32);
            window.crypto.getRandomValues(buffer);

            // Ubah byte menjadi string Base64 dan buat URL-safe
            const key = btoa(String.fromCharCode.apply(null, buffer))
                .replace(/\+/g, '-') 
                .replace(/\//g, '_') // Ganti '/' dengan '_' (tetap URL-safe)
                .replace(/=/g, ''); Â 
            
            // Tambahkan prefix dan potong sesuai panjang yang diinginkan
            const finalKey = 'MH-' + key.substring(0, 45); // Panjang kunci disesuaikan sedikit

            apiKeyInput.value = finalKey;
            
            // Sembunyikan pesan copy saat kunci baru dibuat
            copyFeedback.classList.remove('visible');
        }

        // --- 3. Fungsi untuk Menyalin ke Clipboard ---
        function copyToClipboard() {
            // Pilih teks di dalam input
            apiKeyInput.select();
            apiKeyInput.setSelectionRange(0, 99999); 

            // Salin teks menggunakan API Clipboard modern
            navigator.clipboard.writeText(apiKeyInput.value)
                .then(() => {
                    // Tampilkan pesan "berhasil disalin"
                    copyFeedback.classList.add('visible');

                    // Sembunyikan pesan setelah 2 detik
                    setTimeout(() => {
                        copyFeedback.classList.remove('visible');
                    }, 2000);
                })
                .catch(err => {
                    console.error('Gagal menyalin: ', err);
                });
        }

        // --- 4. Tambahkan Event Listener ke Tombol ---
        generateBtn.addEventListener('click', generateApiKey);
        copyBtn.addEventListener('click', copyToClipboard);

        // --- 5. Hasilkan kunci saat halaman pertama kali dimuat ---
        generateApiKey();

    </script>

</body>
</html>